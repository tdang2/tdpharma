class MedBatch < ActiveRecord::Base
  ### Attributes ###################################################################################

  ### Constants ####################################################################################

  ### Includes and Extensions ######################################################################

  ### Associations #################################################################################
  belongs_to :medicine
  has_and_belongs_to_many :inventory_items

  ### Callbacks ####################################################################################

  ### Validations ##################################################################################
  validates :mfg_date, :expire_date, :amount_per_pkg, :package, :amount_unit, presence: true
  validate :must_have_medicine

  ### Scopes #######################################################################################

  ### Other ########################################################################################


  ### Class Methods ################################################################################


  ### Instance Methods #############################################################################


  private
  def must_have_medicine
    errors.add(:medicine, 'does not exist') if medicine.nil?
  end
end
